const x=Symbol("ps"),aa=Symbol("pks"),A=Symbol("ed"),D=Symbol("gr"),J=Symbol("gx"),ca=Symbol("gpr"),M=Symbol("gd"),N=Symbol("gl"),ea=Symbol("glw"),O=Symbol("ga"),fa=Symbol("gai"),P=Symbol("gr"),ha=Symbol("mn");let ia=!1;const ja=new Map,ka=new Map;let Q=null;
function la(a,c,b,d=!1){ma();var f=c[D];if(f)for(const h of f)h&&(h===Q||(h.u===5?ja:ka).set(h,a));else if(f===null)return;f=a!==null&&typeof a==="object";for(var e in c)f&&Object.prototype.hasOwnProperty.call(a,e)?la(a[e],c[e],e,!0):na(c[e]);if(!d){b===""?d=c[J]?.[x]?.path.split(".")??[]:(d=c[ca]?.[J]?.[x]?.path.split(".")??[],d.push(b));e=d.length-1;for(let h=c[ca],k=e;h&&h[ca];h=h[ca],k--){if(h[O])for(let m=k,t=h[d[m]];t&&m<=e;t=t[d[++m]])m===e&&la(a,t,b,!0);if(c=h[D]){f=h[J]?.[x].path+".";for(const m of c)if(m.u===
2||m.Z&&m.Z.has(f))m===Q||(m.u===5?ja:ka).set(m,null)}}}}function oa(a,c){if(a!==Q)if(Q===null)pa(a,c);else{var b=Q;Q=a;(a.u===5?ja:ka).delete(a);pa(a,c);Q=b}}function qa(a){if(a=a[D])for(const c of a)c.o===1&&oa(c,null)}function pa(a,c){let b;try{b=a.update.call(a.u===4?a.j:null,a.g[J],a.g[P],a,c),b instanceof Promise&&b.catch(f=>{ra(f,a)})}catch(f){ra(f,a);return}c=a.s;if(c!==""){var d;if(a.o===1||(a.H===ha?(d=a.j[c],(d===""?"":+d||0)!==b):a.j[c]!==b))a.o=3,a.j[c]=b}}
function T(a,c,b,...d){let f;try{f=a.call(b,...d),f instanceof Promise&&(f=f.catch(e=>{ra(e,c)}))}catch(e){ra(e,c)}return f}
function U(a,c,b,d){if(b.length>0){const e=sa(c,b);if(e.g!==c){if(!e.aa)return U(a,e.g,b,d??c[D]);var f=U(a,e.g,e.aa,d??c[D]);b=e.l}for(let h=0,k=b.length;h<k;h++)f=b[h],f[f.length-1]==="["&&((a.Z??(a.Z=new Set)).add(c[M].path+"."+f.replace(/\[|\]/g,m=>m==="["?".":"")),f=f.slice(0,-1)),f=ta(c,f),f[D].add(a),a.B&&a.B.add(f);(c=d??c[D])&&c.add(a);a.u!==2&&a.j&&a.s!==""&&a.j[a.s]!==a.C&&(a.j[a.s]=a.C)}else pa(a,null);return f}function ua(a,c){const b=sa(a,[c]);return b.g!==a?ua(b.g,c):ta(a,c)}
function ta(a,c){let b=a;c[c.length-1]==="["&&(c=c.slice(0,-1));const d=c.match(/[^.[\]]+/g)||[];for(let e=0;e<d.length;e++){const h=d[e];if(b[h]===void 0){var f=b[J];if(f&&!Object.prototype.hasOwnProperty.call(f,h)&&(console.warn("createGraphNode: missing state for path/prop",c,"/",h),f=a[M].D)){const k=h.toLowerCase();(f.hasAttribute("data-p:"+k)||f.hasAttribute("data-pm:"+k))&&console.warn("possible kebab-cased to camelCased mismatch for prop",h)}b[h]=va(b)}b=b[h]}return b}
function X(){this.s!==""&&(this.j[this.s]=this.C)}function na(a){if(a){var c=a[D];if(c)for(const b of c)b.o>2&&(b.G(),b.o=2);a[J]&&(a[J]=null);for(const b in a)na(a[b])}}
function wa(a,c){try{a[M].D?.[A].O?.kill?.call(null,a[J],a[P])}catch(k){console.error("RunnerUtils.killTemplate: LifeCycle.kill error",k)}var b=c[M].U;if(b)for(let k=0,m=b.length;k<m;k++)if(b[k]===a){b.splice(k,1);break}for(b=[a];b.length>0;){var d=b.pop(),f=d[D];if(f)for(var e of f){if(e.u===5){f=e.j;const k=f[O];if(k){for(let m=k.length-1;m>=0;m--)if(k.hasOwnProperty(m)){const t=k[m][M];for(let r=t.length-1;r>=0;r--){const u=t[r];u[M].ea===d&&(wa(u,d),t.splice(r,1))}t.length===0&&k.pop()}k.length===
0&&(f[fa]=void 0)}}if(e.B){for(var h of e.B)(f=h[D])&&f.delete(e);e.B.clear()}(e.u===5?ja:ka).delete(e)}(d=d[M]?.U)&&b.push(...d)}a[N]=void 0;a[D]=void 0;a[J]=null;a[ca]=void 0;e=a[M];if(!e)console.warn("killTemplate: G_DATA not found, possible template initialization error");else if(e.D){b=e.D;h=xa(b);d=b[A].I;if(d!==4){if(d===3&&e.T){for(const [k,m]of e.T){if(k[0]==="$"){const {j:t,s:r}=ya(k.substring(3),c[P],!0);t&&t[r]===m&&(t[r]=void 0)}m[aa]=!0}e.T.clear()}b[A]=void 0;b.remove()}else for(b[A]=
{I:d},c=b.shadowRoot??b;c.lastChild;)c.removeChild(c.lastChild);e.D=void 0;h&&h.remove()}a[M]=void 0}function ma(){ia||(Promise.resolve().then(()=>{do{for(const c of ja){var a=c[0];Q=a;ja.delete(a);pa(a,c[1])}for(const c of ka)if(Q=a=c[0],ka.delete(a),pa(a,c[1]),ja.size>0)break}while(ja.size>0||ka.size>0);ia=!1;Q=null}),ia=!0)}
function sa(a,c){const b=a[N]?.[ea];if(b){var d=b.L;if(d){const f=[],e=[],[h,k]=d;for(d=0;d<c.length;d++){const m=c[d];(m===h||m===k||m.startsWith(h+".")||m.startsWith(h+"[")?e:f).push(m)}if(f.length>0)return{g:b.g,l:e,aa:f}}else a=b.g}return{g:a,l:c,aa:void 0}}
function ra(a,c){console.error("RunnerUtils.handleExecError: error:",a);const b=a instanceof Error?a:Error(typeof a==="string"?a:"unknown error",{cause:a});if(c instanceof Element)var d=c;else if(c.j){var f=c.j;f instanceof Element?d=f:f instanceof Text?d=f.parentElement:f.ownerElement&&(d=f.ownerElement);if(!d)if(f=c.g[M],f.D)d=f.D;else for(let e=0,h=f.U.length;e<h;e++){const k=f.U[e][M];if(k.D){d=k.D.parentElement;break}}}if(!d)throw console.error("RunnerUtils.handleExecError: cannot find Element for runner",
c),b;for(c=!1;d;){if(d.nodeType===Node.ELEMENT_NODE&&d.hasAttribute("data-err")){d[A].ba&&(d=d[A].ba,d.h.call(null,d.g[J],d.g[P],b),c=!0);break}if(d[A]?.I===1)break;d=d.parentElement||xa(d)}if(!c)throw a;}
function za(a,c,b,d=!1){let f,e;return new Proxy(a,{get(h,k){return k==="emit"?(f||(f=c?function(m,t,r=!1){r=r===!0;c.dispatchEvent(new CustomEvent(m,{detail:t,bubbles:r,composed:r}))}:a.global.emit),f):k==="watch"?(e||(e=function(m,t,r){const u=Y(Z(m),b[M].path,4);U({j:null,s:"",u:1,o:1,H:r,update:function(B,g,l){l.H===!1?l.H=!0:t(u.h.call(null,B,g))},G:X,C:void 0,g:b,B:new Set},b,u.v.l)}),e):h.local?.[k]??(d?void 0:h.global[k])},set(h,k,m){h.local||(h.local={});h.local[k]=m;return!0}})}
function Aa(a,c,b){let d=/\bthis\b/.test(b.v.m)?Ba(c):null;const f=a[M];d&&f.D&&3===f.D[A].I&&(f.T??(f.T=new Map)).set(Math.random().toString(36),d);T(b.h,c,d,a[J],a[P])}
function Ba(a){let c=a;return new Proxy({},{get(b,d){if(d==="__raw")return c;Ca(c);const f=c[d];return typeof f==="function"?function(...e){return f.apply(c,e)}:f},set(b,d,f){if(d===aa)return c=void 0,!0;Ca(c);c[d]=f;return!0},has(b,d){Ca(c);return d in c},deleteProperty(b,d){Ca(c);return delete c[d]},ownKeys(){Ca(c);return Reflect.ownKeys(c)},getOwnPropertyDescriptor(b,d){Ca(c);return Reflect.getOwnPropertyDescriptor(c,d)},getPrototypeOf(){Ca(c);return Object.getPrototypeOf(c)}})}
function Ca(a){if(!a)throw ReferenceError("element is not defined");};const Da=Object.getPrototypeOf(async function(){}).constructor;let Ea=0;function Fa(){let a="",c=Ea++;do{const b=c%52;a=String.fromCharCode(b+(b<26?97:39))+a;c=Math.floor(c/52)-1}while(c>=0);return a}function Z(a){return/^\s*{{/.test(a)?a.replace(/^\s*{{\s*|\s*}}\s*$/g,""):a.trim()!==""&&Number.isFinite(+a)?a:"'"+a.replace(/'/g,"\\'")+"'"}const Ha=new Map;
function Y(a,c,b=1,d=""){d=c+a+d+b;var f=Ha.get(d);if(!f){f=c;const k=a.length;if(k>512)throw Error("expression is too long (max length: 512)");let m="";const t=new Set;f+=f?".":"";for(let r=0,u=0,B="",g="",l=!1;r<=k;r++){var e=k!==r?a[r]:"";if(u===0)e==='"'||e==="'"||e==="`"?(u=1,B=e,m+=e):/[a-zA-Z_$]/.test(e)?(u=2,g=e):e==="]"||e===")"?(u=3,g=e):(e==="{"?(l=!0,u=1,B=":"):e==="}"?l=!1:l&&e===","&&(u=1,B=":"),m+=e);else if(u===1){if(e===B)u=0;else if(l&&e==="."&&(a[r+1]||"")==="."&&(a[r+2]||"")===
".")u=0,r+=2,m+="..";else if(e==="\\"){m+=e+(a[r+1]||"\\");r++;continue}m+=e}else if(/[\w.$\d]/.test(e))g+=e;else if(e==="?"&&(a[r+1]||"")===".")g+=e;else{if(e==="["||e==="("){if(g+=e,e=a.substring(r+1).match(/^\s*(?:\d+|'(?:0x[0-9a-fA-F]+|[0-9]+)'|"(?:0x[0-9a-fA-F]+|[0-9]+)")\s*\]/)){g+=e[0];r+=e[0].length;continue}}else--r;if(g==="true"||g==="false"||g==="null"||g==="undefined"||g==="void"||g==="this"||g==="$evt"||g==="$err"||g==="await"||g==="return"||g.startsWith("$r.")||g.startsWith("$err.")||
g.startsWith("$evt.")||g.startsWith("this.")||g.startsWith("void("))m+=g;else{e=g;var h=u===3||/[\])]/.test(g[0])||/[[(]/.test(g[g.length-1]);const n=e.replace(/\s*/g,"").replace(/\?\./g,"."),w=n[0];let v=-1;h?(w!=="]"&&w!==")"&&(m+=f,n[n.length-1]==="("&&(v=n.lastIndexOf("."))),w!=="]"&&n[n.length-1]==="["&&(t.delete(n.slice(0,-1)),t.add(n))):(t.add(n),m+=f);v!==-1&&t.add(n.substring(0,v));m+=e}u=0}}f={m,l:Array.from(t),la:[]};f={v:f,h:b>2?new (/^\s*await\b/.test(a)?Da:Function)(c,"$r",(b===3?"":
"return ")+f.m):null};b>1&&Ha.set(d,f)}return f}function Ia(a,c,b){const d=c[M];b={[M]:{path:d.path+"_"+Fa(),D:a,U:[]},[D]:b?new Set:c[D],[J]:null};const f=a?.[A];b[P]=f&&f.I===3?c[P]:za({global:c[P]},a,b,a?.hasAttribute("data-no-refs"));f&&f.M&&(f.M.g=c);d.U.push(b);return b}function va(a){return{[D]:new Set,[ca]:a,[J]:null}}function Ja(a){if(!a)return!1;const c=a.length;for(let b=0;b<c;b++){const d=a.charCodeAt(b);if(d<48||d>57)return!1}return c===1||a[0]!=="0"}
function Ka(a){return a.replace(/-./g,c=>c.toUpperCase()[1])}function ya(a,c,b=!1){a=a.replace(/\[/g,"[.").replace(/\]/g,"").split(".");if(a.length<1)return{j:null,s:""};for(let d=0;d<a.length-1;d++){let f=a[d];const e=a[d].endsWith("[");e&&(f=f.slice(0,-1));if(c[f]===void 0){if(b)return{j:null,s:""};c[f]=e?[]:{}}c=c[f]}return{j:c,s:a[a.length-1]}}
function La(a){if(a==="")a=document.createElement("div"),a.style.display="inline";else{const [c,b]=a.split("|");a=document.createElement(c.trim());b&&(a.style.cssText=b)}return a}function xa(a){a=a.getRootNode();return a instanceof ShadowRoot?a.host:null}function Ma(a,c,b){const d=b.H;var f=d.p;const e=d.i;a=d.f.call(null,a,c);a!==f[e]&&(f[e]=a,f=f.join(""),b.j.value!==f&&(b.j.value=f))}
function Na(a,c){c=c.match(/[^.[\]]+/g)||[];for(let b=0;b<c.length;b++){const d=c[b];if(!Object.hasOwnProperty.call(a,d))return;a=a[d]}return a};function Oa(a,c,b){const d={target:a,path:c,A:b,K:void 0},f=Array.isArray(a);f&&!d.A[O]&&(d.A[O]=[]);let e=!1;return new Proxy(a,{set(h,k,m){var t=String(k);const r=d.A[N];if(r){let u;if((u=r[k])!==void 0){if(u.h===null)return console.error("proxy set: linker(null fun): read-only var",d.path+"."+t),!0;if(!u.J)return console.error('proxy set: one way linker, use "data-pm:" or events',d.path+"."+t),!0;t=u.h.call(null,u.g[J]);t[u.F]!==m&&(t[u.F]=m);return!0}if(!((u=r[ea])===void 0||u.L&&u.L.includes(t)))return h=
u.g[J],h[t]!==m&&(h[t]=m),!0}h[k]=m;if(e)return!0;if(f){if(t==="length"||Ja(t))e=!0,la(h,d.A,""),Promise.resolve().then(()=>{e=!1});return!0}m=d.A[t]??(d.A[t]=va(d.A));Object.hasOwnProperty.call(m,J)&&(m[J]=h[k],la(h[k],m,t));return!0},get(h,k){if(k===x)return d;const m=String(k);let t=h[k];if(t===void 0){var r=d.A[N];if(r){if((h=r[m])!==void 0){if(h.h===null)return h.F;k=h.h.call(null,h.g[J]);if(h.J)return k[h.F];k=k[x];k.K||(k.K=Pa(k));return k.K[h.F]}if(!((h=r[ea])===void 0||h.L&&h.L.includes(m)))return h.g[J]?.[k]}}else t===
null||typeof t!=="object"||t[x]||(r=f?d.A[O]:d.A,r=r[m]??(r[m]=va(d.A)),t=Oa(t,d.path+"."+m,r),h[k]=r[J]=t);return t},deleteProperty(h,k){const m=String(k);f&&Ja(m)&&h.hasOwnProperty(m)&&!e&&(e=!0,la(h,d.A,""),Promise.resolve().then(()=>{e=!1}));return delete h[k]}})}const Qa=new Set("push pop unshift shift splice sort reverse fill copyWithin".split(" "));function Ra(){}
function Pa(a){const c=Array.isArray(a.target);return new Proxy(a.target,{set(b,d){console.error('read-only proxy(set): use "data-pm:" or events, cannot set read-only var',a.path+"["+String(d)+"]");return!0},get(b,d){if(d===x)return a;var f=String(d);let e=b[d];if(e===void 0){var h=a.A[N];if(h){if((b=h[f])!==void 0){if(b.h===null)return b.F;d=b.h.call(null,b.g[J])[x];d.K||(d.K=Pa(d));return d.K[b.F]}if(!((b=h[ea])===void 0||b.L&&b.L.includes(f)))return b.g[J]?.[d]}}else if(e!==null&&typeof e==="object")h=
e[x],h||(h=c?a.A[O]:a.A,h=h[f]??(h[f]=va(a.A)),f=Oa(e,a.path+"."+f,h),b[d]=h[J]=f,h=f[x]),h.K||(h.K=Pa(h)),e=h.K;else if(c&&Qa.has(f))return console.error('read-only proxy(get): use "data-pm:" or events, method not available',f),Ra;return e},deleteProperty(b,d){console.error('read-only proxy(delete): use "data-pm:" or events, delete not allowed on path',a.path+"["+String(d)+"]");return!1}})};function Sa(a,c){let b=a.id;if(c.has(b))return console.error("initTemplate: template already exist with, using cached id",b),c.get(b);var d=a.content.querySelectorAll("script"),f;d.length>0&&(d.length!==1?console.error("template has more than one script tag, templateId:",b,"(initTemplate)"):f=(new Function('"use strict";'+d[0].textContent+';return{create:typeof create==="function"?create:null,kill:typeof kill==="function"?kill:null}')).call(null),d.forEach(t=>t.remove()));if(d=a.getAttribute("data-wrap")){d=
document.createElement(d);d.appendChild(a.content.cloneNode(!0));var e=a.attributes;for(var h=0;h<e.length;h++){var k=e[h],m=k.name;["data-wrap","id"].indexOf(m)===-1&&d.setAttribute(m,k.value)}}else{d=a.content;e=0;for(h=d.firstChild;h&&!(e>1);){if(h.nodeType===Node.TEXT_NODE){if(h.nodeValue?.trim()){e=0;break}}else e++;h=h.nextSibling}if(e===1&&d.firstElementChild)for(d=d.firstElementChild.cloneNode(!0),e=a.attributes,h=0;h<e.length;h++)k=e[h],m=k.name,m.startsWith("data-p:")&&d.setAttribute(m,
k.value);else throw Error('initTemplate: templates must have exactly one Element child or "data-wrap" attr');}a.remove();a=d.querySelectorAll("template");e=d[A]??(d[A]={});f&&(e.O=f);for(f=a.length-1;f>=0;f--)h=a[f],h.hasAttribute("id")&&!h.hasAttribute("shadowrootmode")&&(e.P||(e.P=new Map),Sa(h,e.P));c.set(b,d);return d}
function Ta(a,c,b,d){if(a.tagName.startsWith("R-")){if(c===null)throw Error("applyTemplate: cache is null");c=Ua(a,c,b,d);if(!c)return null;a.hasAttribute("data-shadow")?(d=La(a.getAttribute("data-shadow")),d.attachShadow({mode:"open"}).appendChild(c)):d=c;b?b.after(d):a.before(d);a.remove();return c}if(!b)return console.error("applyTemplate: inline template: anchor is not defined"),null;a=a.cloneNode(!0);b.after(a);a[A]={I:3};return a}
function Ua(a,c,b,d){var f=a.tagName.slice(2).toLowerCase();if(d=d?.get(f)??c.get(f))c=d;else{d=document.getElementById(f);if(!d||d.tagName!=="TEMPLATE")throw Error("applyTemplate: template not found, templateId: "+f);c=Sa(d,c)}for(b=b?.parentElement||a.parentElement;b&&b[A]?.I!==1;b=b.parentElement||xa(b))if(b[A]?.ka===f)return console.error("applyTemplate: infinite template recursion detected, templateId:",f),null;b=c.cloneNode(!0);d=[];const e=a.attributes;for(let h=0;h<e.length;h++){const k=e[h],
m=k.name;m.startsWith("data-p:")?b.removeAttribute("data-pm:"+m.substring(7)):m.startsWith("data-pm:")?b.removeAttribute("data-p:"+m.substring(8)):d.push(m);b.setAttribute(m,k.value)}b[A]={ka:f,I:2,ga:d};c[A]?.P&&(b[A].P=c[A].P);if(a.textContent.trim()!==""&&b.getElementsByTagName("slot").length>0){for(f=document.createDocumentFragment();a.firstChild;)f.appendChild(a.firstChild);a[A]={V:f};b[A].M={g:null,V:f}}else a[A]?.V&&(b[A].M={g:null,V:a[A].V});c[A].O&&(b[A].O=c[A].O);return b};function Va(a,c,b,d){a=b.j;if(a[fa])if(b=d?.[x]?.target??a[fa]?.h(b.g)?.[x].target??d,Array.isArray(b)&&b.length!==0){if(d=Wa(a),d.length>0){c=new Map;let u=!1;const B=a[O];var f=null;for(let g=0,l=b.length;g<l;g++)if(b.hasOwnProperty(g)){var e=b[g],h=B[g];if(h){var k=h[J];if(k===e){a:{k=c;var m=g,t=k.get(e);if(t)for(let n=0,w=t.length;n<w;n++){var r=t[n];if(Math.abs(r)===m){t.splice(n,1);t.length===0&&k.delete(e);k=r<0;break a}}k=!1}if(k)Xa(f,g,h,a,d);else if(!h[M]||h[M].length!==d.length)a:for(e=
h,k=g,e=e[M]??(e[M]=[]),m=0;m<d.length;m++){t=d[m];r=t.g;for(let n=0;n<e.length;n++)if(e[n][M].ea===r)continue a;Ya(f,m,t.H.anchor).after(Za(k,a,t))}f=h}else if(u||($a(c,B,g),u=!0),e=ab(c,e),e!==void 0)if(k=Math.abs(e),k===g)e<0&&Xa(f,g,h,a,d),f=h;else{e=B[k];if(!e)throw Error("List.doSync: nodeForValue is undefined, indexOfNodeForValue: "+k);bb(c,h[J],g,-k);B[k]=h;Xa(f,g,e,a,d);f=B[g]=e}else B.push(h),bb(c,k,g,-(B.length-1)),f=cb(f,g,a,d)}else u||($a(c,B,g+1),u=!0),h=ab(c,e),h!==void 0?(h=Math.abs(h),
k=B[h],delete B[h],Xa(f,g,k,a,d),f=k):f=cb(f,g,a,d)}else if(h=B[g])delete B[g],B.push(h),bb(c,h[J],g,-(B.length-1));if(B.length>b.length)for(let g=B.length-1,l=b.length-1;g>l;g--)B.hasOwnProperty(g)&&db(B[g],d),B.splice(g,1)}}else if(b=a[O])for(a=Wa(a),d=b.length-1;d>=0;d--)b.hasOwnProperty(d)&&db(b[d],a),b.pop()}
function cb(a,c,b,d){const f=Object.assign(va(b),{[M]:[]});b[O][c]=f;f[J]=b[J]?.[c]??null;var e=b[J]?.[c]?.[x];e&&(e.A!==f&&(e.A=f),e.path=b[J]?.[x].path+"."+c);for(let h=0,k=d.length;h<k;h++)e=d[h],Ya(a,h,e.H.anchor).after(Za(c,b,e));return f}
function Za(a,c,b){var d=b.H;const f=d.$.cloneNode(!0);f[A]=d.$[A];var e=c[O][a];b=b.g;const h=Ia(f,b,!0);h[M].ea=b;const k=h[M].path,m=d.da,t=m[0].name;var r=m[1].name,u=h[N]={[t]:{g:c,h:g=>g,F:a,J:m[0].type===2}};const B={};r&&(u[r]={g:h,h:null,F:a,J:!1},B[r]=void 0);if(d.$[A].I===3)h[N][ea]={g:b,h:()=>{},F:"",J:!0,L:r?[t,r]:[t]};else for(a=b[M].path,d=2;d<m.length;d++){r=m[d];u=r.m;if(r.type===4){B[r.name]=u;continue}const g=ua(b,u);if(g){const l=r.name,n=h[N]??(h[N]={}),w=u.lastIndexOf(".");n[l]=
{g:b,h:new Function(a,"return "+a+(w===-1?"":"."+u.substring(0,w))),F:u.substring(w+1),J:r.type===2};h[l]=g}else console.error("List.createAndLinkElement: missing linkToNode: cannot bind to expression",u)}h[t]=e;e[M].push(h);h[J]=Oa(B,k,h);(e=f[A].O?.create)&&T(e,f,null,h[J],h[P]);c[fa].ja(h,f,!1,b);qa(h);return f}
function Xa(a,c,b,d,f){var e=d[J]?.[c];if(e){var h=e[x];h&&(e[x].A=b,h.path=d[J]?.[x].path+"."+c);b[J]=e}else b[J]=null;d[O][c]=b;b=b[M];for(let m=0,t=b.length;m<t;m++){h=b[m];e=h[M];d=f[m].H;const r=h[N];if(r){var k=d.da;r[k[0].name].F=c;if(k=k[1].name)if(r[k].F=c,h=h[k]?.[D])for(const u of h)oa(u,c)}(e=e.D)&&Ya(a,m,d.anchor).after(e)}}function db(a,c){if(a=a[M]){for(let b=0,d=a.length;b<d;b++)wa(a[b],c[b].g);a.length=0}}
function $a(a,c,b){for(let d=b,f=c.length;d<f;d++)if(b=c[d])b=b[J],a.get(b)?.push(d)??a.set(b,[d])}function ab(a,c){const b=a.get(c);if(b){const d=b.pop();b.length===0&&a.delete(c);return d}}function bb(a,c,b,d){const f=a.get(c);if(f){for(let e=0,h=f.length;e<h;e++)if(Math.abs(f[e])===b){f[e]=d;return}f.push(d)}else a.set(c,[d])}function Wa(a){const c=[];if(a=a[D])for(const b of a)b&&b.u===5&&c.push(b);return c}function Ya(a,c,b){return a?a[M][c]?.[M].D??b:b};function eb(a,c,b,d){const f=b[M].path;c=Z(c);const {v:e,h}=Y(c,f,4);if(e.l.length!==1||e.l[0]!==c)console.error('data-m: only "simple" vars are supported: invalid varName:',c,"(text input)");else if(U({j:a,s:"value",u:1,o:1,update:h,G:X,C:"",H:d.W?ha:void 0,g:b,B:new Set},b,e.l),fb(c,b))a.readOnly=!0,a.addEventListener("keydown",gb);else{var k=d.W?new Function(f,"$r","_v",`${e.m} = _v===''?'':(+_v||0)`):new Function(f,"$r","_v",`${e.m} = _v`);a.addEventListener(d.ca?"change":"input",m=>{T(k,a,null,
b[J],b[P],m.currentTarget.value)})}}
function hb(a,c,b){c=Z(c);let d=!1;c.endsWith("[]")&&(d=!0,c=c.slice(0,-2));const f=b[M].path,e=Y(c,f,2,"_chb_m_"+f+"_"+d),h=e.v;if(h.l.length!==1||h.l[0]!==c)console.error('data-m: only "simple" vars are supported: invalid varName:',c,"(checkbox)");else{if(!e.h){const r=new Function(f,"$r",`return ${h.m} `);e.h=d?function(u,B,g){u=r.call(null,u,B);return Array.isArray(u)&&u.includes(g.H[0])}:function(u,B,g){return r.call(null,u,B)===g.H[0]}}a.hasAttribute("name")||(a.name=c);var k=[!0,!1];if(a.hasAttribute("value")){var m=
a.value;m.trim().startsWith("{{")?({h:m}=Y(Z(m),f,4),m=m.call(null,b[J],b[P]),Array.isArray(m)?(m.hasOwnProperty(0)&&(k[0]=m[0]),m.hasOwnProperty(1)&&(k[1]=m[1])):k[0]=m):k[0]=(new Function("return "+Z(m)))()}a.value=k[0];m=Na(b[J],c);a.checked=m!==void 0?d?Array.isArray(m)&&m.includes(k[0]):m===k[0]:!1;U({j:a,s:"checked",u:1,o:1,H:k,update:e.h,G:X,C:a.checked,g:b,B:new Set},b,h.l);if(fb(c,b))a.addEventListener("click",gb),a.addEventListener("keydown",gb);else{var t=d?new Function(f,"$r","_checked",
"_v","_fun",`if (!_fun(${h.m}, _checked, _v)) {${h.m}=[_v] } `):new Function(f,"$r","_v",`${h.m} = _v`);a.addEventListener("change",r=>{r=r.currentTarget.checked;d?T(t,a,null,b[J],b[P],r,k[0],ib):T(t,a,null,b[J],b[P],k[r?0:1])})}}}
function jb(a,c,b){if(a.hasAttribute("value")){c=Z(c);var d=b[M].path,f=Y(c,d,2,"_r_r_m+"+d),e=f.v;if(e.l.length!==1||e.l[0]!==c)console.error('data-m: only "simple" vars are supported: invalid varName:',c,"(radio)");else{if(!f.h){const t=new Function(d,"$r",`return ${e.m} `);f.h=function(r,u,B){return t.call(null,r,u)===B.H}}var h=a.value;if(h.trim().startsWith("{{")){var {h:k}=Y(Z(h),d,4);h=k.call(null,b[J],b[P]);a.value=h}else h=a.value;a.hasAttribute("name")||(a.name=c);k=Na(b[J],c);a.checked=
k===h;U({j:a,s:"checked",u:1,o:1,H:h,update:f.h,G:X,C:a.checked,g:b,B:new Set},b,e.l);if(fb(c,b))a.addEventListener("click",gb),a.addEventListener("keydown",gb);else{var m=new Function(d,"$r","_v",`${e.m} = _v`);a.addEventListener("change",()=>{T(m,a,null,b[J],b[P],h)})}}}else console.error('initRadio: element missing "value" attr',a)}
function kb(a,c,b,d){const f=a.hasAttribute("multiple"),e=b[M].path;c=Z(c);const h=Y(c,e,2,"_sel_m_"+e+"_"+f),k=h.v;if(k.l.length!==1||k.l[0]!==c)console.error('data-m: only "simple" vars are supported: invalid varName:',c,"(select)");else{var m=d.W,t=f?new Function(e,"$r",`if (!Array.isArray(${k.m})) {${k.m}=[] } return ${k.m} `):m?new Function(e,"$r","_v",`${k.m}= _v===''?'':(+_v||0)`):new Function(e,"$r","_v",`${k.m}=_v`);if(!h.h)if(f)h.h=function(r,u,B){r=t.call(null,r,u);B=B.j.options;for(let l=
0,n=B.length;l<n;l++){u=B[l];var g=u.value;g=m?g===""?"":+g||0:g;u.selected?r.includes(g)||(u.selected=!1):r.includes(g)&&(u.selected=!0)}};else{const r=new Function(e,"$r",`return ${k.m}`);h.h=m?function(u,B,g){u=r.call(null,u,B);g=g.j;g.value=""+u;if(g.selectedIndex===-1){g=g.options;for(let l=0,n=g.length;l<n;l++){B=g[l];const w=B.value;if(u===(w===""?"":+w||0)){B.selected=!0;break}}}}:r}d=T(new Function(e,"$r",`return ${k.m} `),a,null,b[J],b[P]);a.value=d;U({j:a,s:f||m?"":"value",u:1,o:1,update:h.h,
G:X,C:d,g:b,B:new Set},b,k.l);fb(c,b)?(a.addEventListener("mousedown",gb),a.addEventListener("keydown",gb)):a.addEventListener("change",r=>{r=r.currentTarget.options;if(f){var u=T(t,a,null,b[J],b[P])??[];for(let l=0,n=r.length;l<n;l++){var B=r[l],g=B.value;g=m?g===""?"":+g||0:g;B.selected?u.includes(g)||u.push(g):(B=u.indexOf(g),B!==-1&&u.splice(B,1))}}else for(let l=0,n=r.length;l<n;l++)if(u=r[l],u.selected){T(t,a,null,b[J],b[P],u.value);break}})}}
function ib(a,c,b){if(c)if(Array.isArray(a))a.push(b);else return!1;else Array.isArray(a)&&(c=a.indexOf(b),c!==-1&&a.splice(c,1));return!0}function gb(a){console.error('model(read-only): use "data-pm:" or events, cannot update "data-m" prop:',a.currentTarget.getAttribute("data-m"));a.preventDefault();a.stopPropagation();return!1}function fb(a,c){return(a=c[N]&&c[N][(a.match(/[^.[\]]+/g)||[])[0]||""])?!a.J:!1};const lb=new Set(["data-r","data-m","data-v","data-err"]);
function mb(a,c){function b(g,l,n=!1,w){const v=document.createNodeIterator(l,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT);n&&v.nextNode();n=g[M].path;const G=l[A]?.P;for(var q=v.nextNode();q!==null;q=v.nextNode())if(q.nodeType===Node.TEXT_NODE){var y=q.nodeValue.indexOf("{{");if(y>-1){var p=q.nodeValue.indexOf("}}",y+2);if(p===-1)throw Error("initGraph: invalid textNode: missing closing anchor, node.nodeValue: "+q.nodeValue);y>0&&(q=q.splitText(y),v.nextNode(),p-=y,y=0);p+2<q.nodeValue.length+y&&
q.splitText(p+2);const {v:L,h:I}=Y(q.nodeValue.slice(2,-2),n,4);U({j:q,s:"nodeValue",u:1,o:1,C:"",update:I,G:X,g,B:new Set},g,L.l)}}else if(y=q.tagName,y==="TEMPLATE")q.hasAttribute("id")||q.hasAttribute("shadowrootmode")?Sa(q,B):console.warn('initGraph: template has "shadowrootmode" or no "id" attribute, skipped:',q);else{if(q.hasAttribute("data-err")){p=w&&q===l?w:g;var z=p[M].path,C=Y(Z(q.getAttribute("data-err")),z,2,"__r_err");C.h||(C.h=new Function(z,"$r","$err",C.v.m));(q[A]??(q[A]={})).ba=
{g:p,h:C.h}}if(q.hasAttribute("data-exec")&&(p=Y(Z(q.getAttribute("data-exec")),n,3),q.removeAttribute("data-exec"),Aa(g,q,p),!q.parentElement))continue;q.hasAttribute("data-exec.async")&&(p=Y(Z(q.getAttribute("data-exec.async")),n,2,"__r_exa"),p.h||(p.h=new Da(n,"$r",p.v.m)),q.removeAttribute("data-exec.async"),Aa(g,q,p));if(y==="SLOT"&&l[A].M)y=g,p=l[A].M,p.g?(z=p.V.cloneNode(!0),C=p.g[D],p.g[D]=y[D],b(p.g,z),p.g[D]=C,q.before(z),q.remove()):console.error("setSlot: slotData.graph is null");else if(y.startsWith("R-"))y=
y.slice(2).toLowerCase(),q.hasAttribute("data-if")?d(q,q.getAttribute("data-if"),g,y,G):q.hasAttribute("data-f")?e(q,g,G):(q=Ta(q,B,void 0,G))&&h(q,g);else if(p=q.getAttribute("data-if"))d(q,p,g);else if(q.getAttribute("data-f"))e(q,g);else{if(p=q.getAttribute("data-r"))if(C=q,y=p,z=w&&q===l?w:g,y=Z(y),y.startsWith("$r.")){var E=y.substring(3),{v:F}=Y(E,z[M].path);if(F.l.length!==1||F.l[0]!==E)console.error("setRef: ref must be a simple var, got:",y);else{var {j:W,s:S}=ya(E,z[P]);W===null?console.error("setRef: can not ensure path for varName:",
y):(C=Ba(C),z=z[M],z.D&&3===z.D[A].I&&(z.T??(z.T=new Map)).set(y,C),W[S]=C)}}else console.error('setRef: varName must start with "$r.", got:',y);(p=q.getAttribute("data-v"))&&r(q,p,g);if(p=q.getAttribute("data-src"))q.removeAttribute("data-src"),q.setAttribute("src",p);for(y=q.attributes.length-1;y>=0;y--)if(p=q.attributes[y],E=p.value.trim())if(F=p.name,F==="data-m"||F.startsWith("data-m.")){if(q.tagName==="SELECT"&&q.childElementCount>0){if(p=q.lastElementChild)for(;v.nextNode()!==p;);b(g,q,!0)}p=
q;z=E;C=g;E={W:!1,ca:!1};if(F!=="data-m"){F=F.split(".");for(let L=1,I=F.length;L<I;L++){var K=F[L];K==="num"?E.W=!0:K==="lazy"?E.ca=!0:console.error("initModel: unsupported modifier",K)}}switch(p.tagName){case "INPUT":switch(p.type){case "checkbox":hb(p,z,C);break;case "radio":jb(p,z,C);break;case "submit":case "button":case "reset":case "image":console.error("initModel: unsupported input type",p.type);break;default:eb(p,z,C,E)}break;case "TEXTAREA":eb(p,z,C,E);break;case "SELECT":kb(p,z,C,E);break;
default:console.error("initModel: unsupported tag",p.tagName)}}else if(F.startsWith("data-h:")||F.startsWith("data-h."))t(q,F,E,g,!0);else if(F.startsWith("data-s:"))t(q,F,E,w&&q===l?w:g,!1);else if(F.startsWith("data-l:")||F.startsWith("data-l.async:"))m(q,F,E,w&&q===l?w:g);else if(!(!E.includes("{{")||lb.has(F)||F.startsWith("data-p:")||F.startsWith("data-pm:")||F.startsWith("data-ps:")||F==="value"&&q.hasAttribute("data-m"))){z=[];C=[];K=0;var H="";let L=1;for(let I=0,V=E.length;I<V;I++){const ba=
E[I],da=E[I+1];if(ba==="{"&&da==="{"){if(L===2){console.warn("initGraph: bad attribute, nested {{ detected in :",E);L=3;break}H&&z.push(H);K=0;H="";L=2;I++}else{if(L===2){if(ba==="{"){K++;H+=ba;continue}if(ba==="}")if(da==="}"&&K===0){C.push(z.length);z.push(H.trim());H="";L=1;I++;continue}else K>0&&K--}H+=ba}}switch(L){case 2:console.error("initGraph: bad attribute, unclosed {{ detected in :",E);case 3:continue;default:H&&z.push(H)}E=w&&q===l&&q[A]?.I===2&&q[A].ga.includes(F)?w:g;F=E[M].path;if(z.length===
1){const {v:I,h:V}=Y(z[0],F,4);U({j:p,s:"value",u:1,o:1,C:"",update:V,G:X,g:E,B:new Set},E,I.l,g[D])}else{for(let I=0,V=C.length;I<V;I++){K=C[I];const {v:ba,h:da}=Y(z[K],F,4);H=T(da,q,null,E[J],E[P]);U({j:p,s:"",u:1,o:1,C:H,H:{f:da,i:K,p:z},update:Ma,G:X,g:E,B:new Set},E,ba.l,g[D]);z[K]=H}p.value=z.join("")}}}}}function d(g,l,n,w,v){w=Z(l);const G=n[M].path;l=document.createComment(`if: ${w}`);l[A]={P:v};g.before(l);g.removeAttribute("data-if");g.remove();const {v:q,h:y}=Y(w,G,4);g={anchor:l,X:n,
ia:g,Y:void 0,h:y,o:0,N:null};l.nextElementSibling?.hasAttribute("data-else")&&(v=l.nextElementSibling,v.removeAttribute("data-else"),v.remove(),g.Y=v);U({j:g,s:"",u:1,o:1,update:f,G:function(){const p=this.j;p.N&&(wa(p.N,p.X),p.N=null);p.o=0},C:0,g:n,B:new Set},n,q.l)}function f(g,l,n){n=n.j;g=!!n.h.call(this,g,l)===!0?1:n.Y?2:0;if(n.o!==g){n.o!==0&&n.N&&(wa(n.N,n.X),n.N=null);if(g!==0){l=Ta(g===1?n.ia:n.Y,B,n.anchor,n.anchor[A]?.P);if(!l){n.N=null;n.o=0;return}const w=n.X;l=l[A].I===3?k(l,w):h(l,
w,!0);n.N=l;qa(l)}n.o=g}}function e(g,l,n){var w=g.getAttribute("data-f"),v=Z(w).split("=>");if(v.length!==2)console.error('initFor: invalid "data-f" attribute',w);else{var G=v[0].trim(),[q,y]=v[1].replace(/\s*/g,"").split(",");v=/^[a-zA-Z_$][a-zA-Z0-9_$]*$/;if(!v.test(q)||y&&!v.test(y))console.error("initFor: invalid indexName or itemName",w);else{w=l[M].path;v=document.createComment(`for: ${G}`);if(g.hasAttribute("data-shadow")&&g.tagName.startsWith("R-")){var p=La(g.getAttribute("data-shadow"));
p.attachShadow({mode:"open"}).appendChild(v);g.removeAttribute("data-shadow");g.before(p)}else g.before(v);g.removeAttribute("data-f");g.remove();var {v:z,h:C}=Y(G,w,4),E=z.l.length;if(E===1&&z.l[0]===G){var F=ua(l,G);var W=z.l;p=l;var S=G.includes(".")?function(H){return C.call(null,H[J],H[P])}:function(H){return H[J][G]}}else{const H="l_"+Fa();p=Ia(void 0,l,!0);W=[H];if(E===0){try{S=C?.call(null)}catch(L){console.error("initFor: init error",", prop:",H,", err:",L)}p[J]=Oa({[H]:S},p[M].path,p);F=
p[H]=va(p);F[J]=p[J][H];S=function(){return F[J]}}else{const L=p[J]=Oa({[H]:null},p[M].path,p);F=ua(p,H);S={j:L,s:H,o:1,u:2,C:null,update:C,G:X,g:l,B:new Set};U(S,l,z.l,p[D]);oa(S,null);S=function(){return L[H]}}}if(F){F[fa]||(F[fa]={ja:b,h:S});S=[{name:q,type:2,m:""},{name:y,type:3,m:""}];if(g.tagName.startsWith("R-")){g.removeAttribute("data-p:"+q);g.removeAttribute("data-pm:"+q);y&&(g.removeAttribute("data-p:"+y),g.removeAttribute("data-pm:"+y));g=Ua(g,B,v,n);if(!g)return;n=g.attributes;for(let H=
0;H<n.length;H++){var K=n[H];const L=K.name,I=L.startsWith("data-p:")?1:L.startsWith("data-pm:")?2:-1;if(I===-1)continue;K=K.value;const V=Z(K),ba=L.substring(L.indexOf(":")+1);let da=!0;if(/^\s*{{/.test(K)){const {v:Ga}=Y(V,w,4);if(Ga.l.length===1&&Ga.l[0]===V){S.push({name:Ka(ba),type:I,m:V});continue}else Ga.l.length!==0&&(da=!1)}da?S.push({name:Ka(ba),type:4,m:(new Function("return "+V))()}):console.error("initFor: only direct bindings are supported on list templates, skipped",L,"=",K)}}else g[A]=
{I:3};p!==l&&((p[N]??(p[N]={}))[ea]={g:l,h:()=>{},F:"",J:!0,L:W});l={j:F,s:"",u:5,o:1,H:{da:S,anchor:v,$:g},update:Va,G:X,C:null,g:p,B:new Set};U(l,p,W);E===0&&oa(l,F[J])}else console.error("initFor: cannot create arrNode",", expr:",G)}}}function h(g,l,n=!1){var w=l[M].path;const v=Ia(g,l,n),G=v[M].path,q={};var y=[];for(let W=0,S=g.attributes.length;W<S;W++){var p=g.attributes[W],z=p.name;const K=z.startsWith("data-p:")?1:z.startsWith("data-pm:")?2:-1;if(K!==-1){z=Ka(z.substring(z.indexOf(":")+1));
var C=p.value;p=Z(C);if(/^\s*{{/.test(C)){const {v:H,h:L}=Y(p,w,4);var E=H.l.length;if(E===1&&H.l[0]===p){if(C=ua(l,p)){E=v[N]??(v[N]={});const I=p.lastIndexOf(".");E[z]={g:l,h:new Function(w,"return "+w+(I===-1?"":"."+p.substring(0,I))),F:p.substring(I+1),J:K===2};v[z]=C;continue}console.error("addTemplateRunners: missing linkToNode: cannot bind to expression",p)}if(E>0){C=v[M].ha;C||(C=Ia(void 0,v,!1),C[M].path=w+"_G"+v[M].path.substring(w.length+1),v[M].ha=C);E=C[J]??(C[J]=Oa({},C[M].path,C));
E[x].target[z]=null;E={j:E,s:z,o:1,u:2,C:null,update:function(I,V){I=L.call(this,I,V);return(V=I?.[x])?V.target:I},G:X,g:l,B:new Set};U(E,l,H.l,C[D]);oa(E,null);n||(E.o=1);v[z]=C[z];q[z]=void 0;(v[N]??(v[N]={}))[z]={g:C,h:function(I){return I},F:z,J:K===2};K===2&&console.error("addTemplateRunners: cannot two-way bind to non-simple expression",p);continue}q[z]=L()}else q[z]=(new Function(`return ${p}`))();y.push(z);K===2&&console.error("addTemplateRunners: cannot two way bind to non expression",p)}}w=
v[J]=Oa(q,G,v);let F;g[A]?.O?.create&&(F=n?void 0:Object.keys(q),T(g[A].O.create,g,null,w,v[P],g));b(v,g,!1,l);if(!n){for(g=0;g<y.length;g++)l=y[g],w[l]=w[l];if(F)for(let W=Object.keys(q),S=0,K=W.length;S<K;S++)y=W[S],F.includes(y)||(w[y]=q[y])}return v}function k(g,l){const n=l[M].path,w=Ia(g,l,!0),v=w[M].path;let G;const q={},y=g.attributes;for(let C=0;C<y.length;C++){var p=y[C],z=p.name;if(z.startsWith("data-ps:")){G||(G=[]);p=p.value;if(p.startsWith("{{")){const {v:E,h:F}=Y(Z(p),n,4);E.l.length>
0?(console.warn("linkInlineTemplate: variables are not allowed in scoped props, skipped:",z,p),p=void 0):p=T(F,g,null,l[J],l[P])}z=Ka(z.substring(8));G.push(z);q[z]=p}}w[N]={[ea]:{g:l,h:()=>{},F:"",J:!0,L:G}};!g[A].M&&l[M].D?.[A].M&&(g[A].M=l[M].D[A].M);w[J]=Oa(q,v,w);b(w,g);return w}function m(g,l,n,w){var v=l.indexOf(":");v=v>0?l.substring(v+1):l.substring(1);g.removeAttribute(l);l=l.startsWith("data-l.async:");const G=w[M].path;n=Y(Z(n),G,2,"__r_l"+(l?"_a":""));n.h||(n.h=l?new Da(G,"$r","_","$evt",
n.v.m):new Function(G,"$r","_","$evt",n.v.m));const q={j:g,s:"",u:4,o:1,C:"",update:n.h,G:()=>{},g:w,B:new Set};g.addEventListener(v,y=>{oa(q,y)})}function t(g,l,n,w,v){const G=l.substring(l.indexOf(":")+1).replace(/-./g,z=>z[1].toUpperCase());if(G){var q=w[M].path;n=Z(n);var {v:y,h:p}=Y(n,q,4);if(v){if(l.startsWith("data-h:"))v=g[G];else if(l.startsWith("data-h.num:"))v=+g[G];else if(l.startsWith("data-h.bool:"))v=g[G]==="true"?!0:!1;else if(l.startsWith("data-h.str:"))v=""+g[G];else{console.error("addSetter: invalid cast:",
l);return}if(y.l.length!==1||y.l[0]!==n){console.error("addSetter: invalid(non-simple) expression:",n);return}({j:l}=ya(n,w[J]));if(l===null){console.error("addSetter: invalid path:",n);return}T(new Function(q,"$r","_v",`${y.m}=_v`),g,null,w[J],w[P],v)}else g[G]=v=T(p,g,null,w[J],w[P]),g.removeAttribute(l);U({j:g,s:G,u:1,o:1,C:v,update:p,G:X,g:w,B:new Set},w,y.l)}else console.error("addSetter: invalid prop:",l)}function r(g,l,n){const w=n[M].path;l=Z(l);const {v,h:G}=Y(l,w,4);if(v.l.length!==1||v.l[0]!==
l)console.error('initView: only "simple" vars are supported: invalid varName:',l);else{g.removeAttribute("data-v");g.hasAttribute("data-shadow")&&g.attachShadow({mode:"open"});g[A]={I:4};var q={j:{fa:g,S:null,h:G},s:"",u:1,o:1,C:g.innerHTML,update:u,G:function(){const y=this.j;y.S&&(wa(y.S,this.g),y.S=null);y.fa.innerHTML=q.C;y.S=null},g:n,B:new Set};U(q,n,v.l)}}function u(g,l,n){const w=n.j;var v=w.h.call(null,g,l);if(v&&Object.prototype.hasOwnProperty.call(v,"html")&&Object.prototype.hasOwnProperty.call(v,
"state")){g=w.fa;if(w.S)wa(w.S,n.g);else for(l=g.shadowRoot??g;l.lastChild;)l.removeChild(l.lastChild);l=document.createElement("template");l.innerHTML=v.html;l=l.content;var G=l.querySelectorAll("script"),q;G.length>0&&(G.length!==1?console.error("template has more than one script tag, templateId:"," [view data]"):q=(new Function('"use strict";'+G[0].textContent+';return{create:typeof create==="function"?create:null,kill:typeof kill==="function"?kill:null}')).call(null),G.forEach(C=>C.remove()));
G=v.readOnly!==!0;n=Ia(g,n.g,!0);n[J]=Oa({},n[M].path,n);v=v.state;var y=v[x].A,p={},z=function(C){return C};for(const C in v)v.hasOwnProperty(C)&&(p[C]={g:y,h:z,F:C,J:G},n[C]=y[C]=va(y));n[N]=p;q&&(g[A].O=q,q.create&&T(q.create,g,null,n[J],n[P]));b(n,l);qa(n);(g.shadowRoot??g).appendChild(l);w.S=n}else console.error('updateData: view data must have "html" and "state" properties, got:',v),n.G()}const B=new Map;b(a,c)};export const R=function(a,c={},b,d){if(c===null||typeof c!=="object")throw Error("initial state must be an object");const f=Fa();a[A]={I:1};const e={[J]:null,[M]:{path:f,U:[],D:a}};e[P]=za(d?{global:{},local:d}:{global:{}},a,e,!1);c=e[J]=Oa(c,f,e);b&&typeof b==="function"&&T(b,a,null,c,e[P]);mb(e,a);la(c,e,f);a.hasAttribute("hidden")&&a.removeAttribute("hidden");return c};
